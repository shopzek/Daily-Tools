<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QR Code Generator â€“ Free Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { font-family: sans-serif; background:#f4f4f4; margin:0; }
  .tool-wrapper { max-width: 520px; margin:60px auto; background:#fff; padding:32px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.08); text-align:center; }
  h1 { margin-bottom:10px; }
  .tool-desc { color:#666; font-size:15px; margin-bottom:24px; }
  input, select, button { width:100%; padding:12px; margin-bottom:16px; border-radius:8px; border:1px solid #ccc; font-size:14px; }
  button { background:#4f46e5; color:white; border:none; cursor:pointer; }
  button:hover { background:#4338ca; }
  #qrResult { margin-top:20px; }
  #qrResult canvas { max-width:100%; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.1); }
</style>
</head>
<body>

<main class="tool-wrapper">
<h1>QR Code Generator</h1>
<p class="tool-desc">Generate professional QR codes for websites, email, WhatsApp, or locations. Add a logo to make it look professional.</p>

<select id="qrType">
  <option value="text">Text</option>
  <option value="url">Website URL</option>
  <option value="email">Email</option>
  <option value="whatsapp">WhatsApp</option>
  <option value="location">Location</option>
</select>

<input type="text" id="qrInput" placeholder="Enter text, URL, email, WhatsApp number, or coordinates">
<input type="file" id="qrLogoInput" accept="image/*">
<button onclick="generateQR()">Generate QR Code</button>

<div id="qrResult"></div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
function generateQR() {
  const qrType = document.getElementById("qrType").value;
  let value = document.getElementById("qrInput").value.trim();
  const qrLogoInput = document.getElementById("qrLogoInput");
  const qrResult = document.getElementById("qrResult");

  if(!value){ alert("Enter a value"); return; }

  // Format value based on type
  if(qrType==="email") value = `mailto:${value}`;
  if(qrType==="whatsapp") value = `https://wa.me/${value.replace(/\D/g,'')}`;
  if(qrType==="location") value = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(value)}`;

  qrResult.innerHTML = ""; // clear previous QR

  // Temporary div for QR
  const qrDiv = document.createElement("div");
  qrResult.appendChild(qrDiv);

  const qr = new QRCode(qrDiv, {
    text: value,
    width: 250,
    height: 250,
    colorDark: "#000000",
    colorLight: "#ffffff",
    correctLevel: QRCode.CorrectLevel.H
  });

  // Wait a bit for QR to render, then add logo
  setTimeout(() => {
    const qrCanvas = qrDiv.querySelector("canvas");
    if (!qrCanvas) return;

    if (qrLogoInput.files[0]) {
      const reader = new FileReader();
      reader.onload = () => {
        const img = new Image();
        img.onload = () => {
          const ctx = qrCanvas.getContext("2d");
          const logoSize = qrCanvas.width * 0.2; // 20%
          ctx.drawImage(img, (qrCanvas.width - logoSize)/2, (qrCanvas.height - logoSize)/2, logoSize, logoSize);
        };
        img.src = reader.result;
      };
      reader.readAsDataURL(qrLogoInput.files[0]);
    }
  }, 100);
}
</script>

</body>
</html>
