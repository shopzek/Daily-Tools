<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Offline Background Remover ‚Äì DailyTools</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Offline background remover using U¬≤-Net. Remove backgrounds instantly without internet.">

<!-- SEO Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Offline Background Remover",
  "applicationCategory": "UtilityApplication",
  "operatingSystem": "All",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  }
}
</script>

<style>
body {
  margin:0; font-family:Arial,sans-serif; background:#f5f7fa;
}
.tool-wrapper{
  max-width:900px; margin:40px auto; background:#fff; padding:40px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.08); text-align:center;
}
h1, h2{margin-bottom:15px;}
.tool-desc{color:#666; margin-bottom:30px;}
.drop-zone{
  border:2px dashed #ccc; padding:35px; border-radius:12px; cursor:pointer; transition:.3s; margin-bottom:20px;
}
.drop-zone:hover{border-color:#2563eb;background:#f0f4ff;}
#fileName{margin-top:10px;font-weight:bold;}
button{
  margin-top:15px; padding:14px 26px; border:none; border-radius:12px; background:#2563eb; color:#fff; font-size:15px; cursor:pointer;
}
button:disabled{background:#aaa; cursor:not-allowed;}
#status{margin-top:15px;font-weight:bold;}
#result img{margin-top:20px; max-width:100%; border-radius:12px; box-shadow:0 6px 16px rgba(0,0,0,.15);}
.primary-btn{display:inline-block;margin-top:15px;padding:12px 24px;background:#16a34a;color:#fff;border-radius:10px;text-decoration:none;}
.seo-section, #comments{max-width:900px; margin:40px auto; background:#fff; padding:30px; border-radius:12px;}
.comment-box input,.comment-box textarea,.comment-box select{width:100%; padding:12px; margin-bottom:12px; border-radius:10px; border:1px solid #ccc;}
.comment-box .review-actions{display:flex; gap:10px; justify-content:center; margin-bottom:12px;}
.comment-box .review-actions select, .comment-box .review-actions button{flex:1; height:50px; border-radius:12px;}
.site-footer{margin-top:60px; padding:20px; text-align:center; background:#f0f0f0;}
#commentList{max-height:300px; overflow-y:auto;}
</style>

<!-- TensorFlow.js -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.12.0/dist/tf.min.js"></script>
</head>

<body>
<div class="tool-wrapper">
  <h1>Offline Background Remover</h1>
  <p class="tool-desc">Remove image backgrounds instantly. Works offline in your browser.</p>

  <div class="drop-zone" id="dropZone">üìÇ Drag & drop image here<br>or click to select
    <input type="file" id="inputFile" accept="image/*" hidden>
  </div>
  <div id="fileName"></div>

  <button id="removeBtn" disabled>Remove Background</button>
  <div id="status"></div>
  <div id="result"></div>
</div>

<section class="seo-section">
  <h2 style="text-align:center">Why Use Our Background Remover?</h2>
  <ul>
    <li>‚úî Works offline with U¬≤-Net AI</li>
    <li>‚úî High-quality transparent PNG</li>
    <li>‚úî Drag & drop support</li>
    <li>‚úî Free & private</li>
  </ul>
</section>

<section id="comments">
  <h2 style="text-align:center">User Reviews</h2>
  <form id="commentForm" class="comment-box">
    <input id="username" placeholder="Your name" required>
    <textarea id="usercomment" placeholder="Your review" required></textarea>
    <div class="review-actions">
      <select id="rating" required>
        <option value="">Rating</option>
        <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
        <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê</option>
        <option value="3">‚≠ê‚≠ê‚≠ê</option>
      </select>
      <button>Submit Review</button>
    </div>
  </form>
  <div id="commentList"></div>
</section>

<footer class="site-footer">
<p>¬© 2026 DailyTools</p>
</footer>

<script>
let file=null;
const dropZone=document.getElementById("dropZone");
const input=document.getElementById("inputFile");
const btn=document.getElementById("removeBtn");
const fileName=document.getElementById("fileName");
const status=document.getElementById("status");
const result=document.getElementById("result");

dropZone.onclick=()=>input.click();
input.onchange=()=>{file=input.files[0]; btn.disabled=!file; fileName.innerText=file?file.name:"";};
dropZone.ondragover=e=>{e.preventDefault(); dropZone.classList.add("dragover");};
dropZone.ondragleave=e=>dropZone.classList.remove("dragover");
dropZone.ondrop=e=>{e.preventDefault(); dropZone.classList.remove("dragover"); file=e.dataTransfer.files[0]; btn.disabled=!file; fileName.innerText=file?file.name:"";};

// Load U2Net model
let model=null;
status.innerText="Loading AI model...";
tf.loadGraphModel("models/u2net/u2net.json").then(m=>{
  model=m;
  status.innerText="Model loaded. Upload image to start.";
}).catch(e=>{status.innerText="‚ùå Failed to load model."; console.error(e);});

// Process Image
btn.onclick=async()=>{
  if(!file || !model) return;
  status.innerText="‚è≥ Processing...";
  btn.disabled=true;

  const img = new Image();
  img.src = URL.createObjectURL(file);
  img.onload=async()=>{
    const canvas=document.createElement("canvas");
    canvas.width=img.width; canvas.height=img.height;
    const ctx=canvas.getContext("2d");
    ctx.drawImage(img,0,0);
    let inputTensor=tf.browser.fromPixels(canvas).toFloat().div(255).expandDims(0);

    // Predict mask
    let pred=model.predict(inputTensor);
    pred=pred.squeeze(); // shape [h,w,1]
    const maskTensor=tf.mul(pred,255).toInt();
    const maskData=await tf.browser.toPixels(maskTensor);
    
    // Apply mask
    const outCanvas=document.createElement("canvas");
    outCanvas.width=img.width; outCanvas.height=img.height;
    const outCtx=outCanvas.getContext("2d");
    const imgData=ctx.getImageData(0,0,img.width,img.height);
    for(let i=0;i<imgData.data.length;i+=4){
      const alpha=maskData[i/4];
      imgData.data[i+3]=alpha;
    }
    outCtx.putImageData(imgData,0,0);

    const url=outCanvas.toDataURL("image/png");
    result.innerHTML=`<img src="${url}"><br><a href="${url}" download="bg-removed.png" class="primary-btn">‚¨á Download PNG</a>`;
    status.innerText="‚úÖ Background removed!";
    btn.disabled=false;
  }
};

/* Reviews */
document.getElementById("commentForm").onsubmit=e=>{
  e.preventDefault();
  const u=username.value, c=usercomment.value, r=rating.value;
  commentList.innerHTML = `<p><strong>${u}</strong> (${r}‚≠ê)<br>${c}</p>` + commentList.innerHTML;
  e.target.reset();
};
</script>
</body>
</html>
